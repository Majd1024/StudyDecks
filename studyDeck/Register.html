<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>StudyDeck ‚Äì Sign in</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="register.css" />
    <link rel="shortcut icon" href="image.png" type="image/x-icon">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <!-- Top navigation -->
  <header class="nav">
    <div class="nav-left">
      <div class="logo-circle">SD</div>
      <span class="nav-brand">StudyDeck</span>
    </div>

    <nav class="nav-links">
      <a href="#home">Home</a>
      <a href="#features">Features</a>
      <a href="#about">About</a>
    </nav>

    <!-- Open App as guest -->
   <!--  <a href="index.html" class="nav-login-btn" id="open-app-link">Open App</a>-->
  </header>

  <!-- Hero section -->
  <main id="home" class="hero">
    <div class="hero-content">
      <p class="hero-pill">Study smarter ¬∑ Not longer</p>
      <h1 class="hero-title">StudyDeck</h1>
      <p class="hero-subtitle">
        Simple tasks and flashcards in one clean workspace ‚Äî built for laptop and phone.
      </p>

      <div class="hero-actions">
        <button id="google-signin-btn" class="btn primary-btn">
          <span class="google-icon">G</span>
          <span>Continue with Google</span>
        </button>

        <!-- Continue as guest -->
        <a href="index.html" class="btn ghost-btn" id="guest-link">
          Continue as guest
        </a>
      </div>

      <p class="hero-hint">
        No installation needed ¬∑ Your progress stays in your browser
      </p>
    </div>

    <!-- Visual preview card -->
    <div class="hero-preview">
      <div class="preview-card">
        <div class="preview-header">
          <span class="preview-dot red"></span>
          <span class="preview-dot yellow"></span>
          <span class="preview-dot green"></span>
        </div>
        <div class="preview-body">
          <div class="preview-column">
            <h3>Tasks</h3>
            <ul>
              <li><span class="bullet"></span>Finish math homework</li>
              <li><span class="bullet"></span>Review German B2</li>
              <li><span class="bullet"></span>Prepare biology quiz</li>
            </ul>
          </div>
          <div class="preview-column">
            <h3>Flashcards</h3>
            <div class="preview-flashcard">
              <span class="preview-label">Front</span>
              <p>‚ÄúFotosynthese‚Äù ‚Äî what is that?</p>
            </div>
            <div class="preview-flashcard back">
              <span class="preview-label">Back</span>
              <p>Plants turning light into energy üå±</p>
            </div>
          </div>
        </div>
      </div>

      <div class="hero-glow"></div>
    </div>
  </main>

  <!-- Features section -->
  <section id="features" class="section section-features">
    <h2>Why StudyDeck?</h2>
    <div class="features-grid">
      <div class="feature-card">
        <h3>Tasks + Flashcards</h3>
        <p>Plan your day and revise your topics in one place.</p>
      </div>
      <div class="feature-card">
        <h3>Works everywhere</h3>
        <p>Designed for laptop and phone, no install required.</p>
      </div>
      <div class="feature-card">
        <h3>Simple by design</h3>
        <p>No distractions, just the tools you actually need to study.</p>
      </div>
    </div>
  </section>

  <!-- About section -->
  <section id="about" class="section section-about">
    <h2>About StudyDeck</h2>
    <p>
      StudyDeck is a small web app that helps you track tasks and build flashcards quickly.
      It‚Äôs built with HTML, CSS and JavaScript and can be used as a personal study companion
      or as a portfolio project to show your frontend skills.
    </p>
  </section>

  <footer class="footer">
    <p>¬© <span id="year"></span> StudyDeck. All rights reserved.</p>
  </footer>

  <!-- Firebase v10 modular -->
  <script type="module">
    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import {
      getAuth,
      GoogleAuthProvider,
      signInWithPopup
    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBtXkSiHpAzQUfr6ebTh9DwUgQYihJvJu4",
      authDomain: "studydeck-e1bc7.firebaseapp.com",
      projectId: "studydeck-e1bc7",
      storageBucket: "studydeck-e1bc7.appspot.com",
      messagingSenderId: "208651535564",
      appId: "1:208651535564:web:1a4784768cca12110c2e69",
      measurementId: "G-EPQ9CNKQVN"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const googleProvider = new GoogleAuthProvider();

    // Google sign-in
    const googleBtn = document.getElementById("google-signin-btn");
    if (googleBtn) {
      googleBtn.addEventListener("click", async () => {
        try {
          // Clear guest flag if it was set
          localStorage.removeItem("studydeck_guest");
          const result = await signInWithPopup(auth, googleProvider);
          console.log("Signed in as:", result.user?.email);
          window.location.href = "index.html";
        } catch (err) {
          console.error("Google sign-in error:", err);
          alert("Google sign-in failed: " + err.message);
        }
      });
    }

    // Guest mode links: set a localStorage flag
    const guestLink = document.getElementById("guest-link");
    const openAppLink = document.getElementById("open-app-link");

    function enableGuestMode() {
      localStorage.setItem("studydeck_guest", "1");
    }

    if (guestLink) {
      guestLink.addEventListener("click", enableGuestMode);
    }
    if (openAppLink) {
      openAppLink.addEventListener("click", enableGuestMode);
    }
  </script>
</body>
</html>

